<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>課題</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }
  </style>
</head>

<body>
  <script type="importmap">
  {
    "imports": {
      "three": "https://cdn.jsdelivr.net/npm/three@0.175.0/build/three.module.js",
      "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.175.0/examples/jsm/",
      "stats": "https://cdn.skypack.dev/stats.js.fps",
       "lil-gui": "https://cdn.jsdelivr.net/npm/lil-gui@0.20/+esm"
      }
  }
  </script>
  <script type="module">
    import *as THREE from 'three';
    import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
    import Stats from 'stats';
    import GUI from 'lil-gui';

    // シーン
    const scene = new THREE.Scene();

    // 軸ヘルパー
    const axesHelper = new THREE.AxesHelper(2);
    scene.add(axesHelper);

    // Stats
    const stats = new Stats();
    stats.showPanel(0);
    document.body.appendChild(stats.dom);

    // GUI
    const gui = new GUI();

    // カメラ
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight);
    camera.position.z = 3;
    scene.add(camera);

    // グループ
    const group = new THREE.Group();
    scene.add(group);

    // オブジェクト


    const capsule = new THREE.Mesh(new THREE.CapsuleGeometry(.5, 1, 2, 4), new THREE.MeshBasicMaterial({ color: 0x00ff00, wireframe: false }));
    group.add(capsule);

    const sphere = new THREE.Mesh(new THREE.SphereGeometry(15, 32, 16), new THREE.MeshBasicMaterial({ color: 0xffff00 }));
    sphere.position.x = -.3;
    sphere.position.y = 1.65;
    sphere.position.z = .4;
    sphere.scale.set(0.005, 0.005, 0.005);
    group.add(sphere);

    const sphere2 = new THREE.Mesh(new THREE.SphereGeometry(15, 32, 16), new THREE.MeshBasicMaterial({ color: 0xffff00 }));
    sphere2.position.x = .3;
    sphere2.position.y = 1.65;
    sphere2.position.z = .4;
    sphere2.scale.set(0.005, 0.005, 0.005);
    group.add(sphere2);

    const sphereEyel = new THREE.Mesh(new THREE.SphereGeometry(15, 32, 16), new THREE.MeshBasicMaterial({ color: 0x909090 }));
    sphereEyel.position.x = .2;
    sphereEyel.position.y = .9;
    sphereEyel.position.z = .5;
    sphereEyel.scale.set(0.005, 0.005, 0.005);
    group.add(sphereEyel);

    const sphereEyels = new THREE.Mesh(new THREE.SphereGeometry(15, 32, 16), new THREE.MeshBasicMaterial({ color: 0xffffff }));
    sphereEyels.position.x = .23;
    sphereEyels.position.y = .91;
    sphereEyels.position.z = .57;
    sphereEyels.scale.set(0.001, 0.001, 0.001);
    group.add(sphereEyels);

    const sphereEyer = new THREE.Mesh(new THREE.SphereGeometry(15, 32, 16), new THREE.MeshBasicMaterial({ color: 0x909090 }));
    sphereEyer.position.x = -.2;
    sphereEyer.position.y = .9;
    sphereEyer.position.z = .5;
    sphereEyer.scale.set(0.005, 0.005, 0.005);
    group.add(sphereEyer);

    const sphereEyers = new THREE.Mesh(new THREE.SphereGeometry(15, 32, 16), new THREE.MeshBasicMaterial({ color: 0xffffff }));
    sphereEyers.position.x = -.17;
    sphereEyers.position.y = .91;
    sphereEyers.position.z = .57;
    sphereEyers.scale.set(0.001, 0.001, 0.001);
    group.add(sphereEyers);

    const box = new THREE.Mesh(new THREE.BoxGeometry(1, .8, 1), new THREE.MeshBasicMaterial({ color: 0x7affef, wireframe: false }));
    group.add(box);
    box.position.y = 1;

    const box2 = new THREE.Mesh(new THREE.BoxGeometry(.4, .15, .15), new THREE.MeshBasicMaterial({ color: 0xffc87a, wireframe: false }));
    group.add(box2);
    box2.position.x = .6;
    box2.position.y = .3;
    box2.position.z = .2;
    box2.rotation.y = (Math.PI / 180) * -45;

    const box3 = new THREE.Mesh(new THREE.BoxGeometry(.4, .15, .15), new THREE.MeshBasicMaterial({ color: 0xffc87a, wireframe: false }));
    group.add(box3);
    box3.position.x = -.6;
    box3.position.y = .3;
    box3.position.z = .2;
    box3.rotation.y = (Math.PI / 180) * 45;

    const box4 = new THREE.Mesh(new THREE.BoxGeometry(.4, .15, .15), new THREE.MeshBasicMaterial({ color: 0xffc87a, wireframe: false }));
    group.add(box4);
    box4.position.x = .6;
    box4.position.y = -.2;
    box4.position.z = .2;
    box4.rotation.y = (Math.PI / 180) * -45;

    const box5 = new THREE.Mesh(new THREE.BoxGeometry(.4, .15, .15), new THREE.MeshBasicMaterial({ color: 0xffc87a, wireframe: false }));
    group.add(box5);
    box5.position.x = -.6;
    box5.position.y = -.2;
    box5.position.z = .2;
    box5.rotation.y = (Math.PI / 180) * 45;

    const box6 = new THREE.Mesh(new THREE.BoxGeometry(.4, .15, .15), new THREE.MeshBasicMaterial({ color: 0xffc87a, wireframe: false }));
    group.add(box6);
    box6.position.x = .5;
    box6.position.y = -.7;
    box6.position.z = .2;
    box6.rotation.y = (Math.PI / 180) * -45;

    const box7 = new THREE.Mesh(new THREE.BoxGeometry(.4, .15, .15), new THREE.MeshBasicMaterial({ color: 0xffc87a, wireframe: false }));
    group.add(box7);
    box7.position.x = -.5;
    box7.position.y = -.7;
    box7.position.z = .2;
    box7.rotation.y = (Math.PI / 180) * 45;

    const box8 = new THREE.Mesh(new THREE.BoxGeometry(.05, .4, .05), new THREE.MeshBasicMaterial({ color: 0x795e4f, wireframe: false }));
    group.add(box8);
    box8.position.x = -.3;
    box8.position.y = 1.5;
    box8.position.z = .2;
    box8.rotation.x = (Math.PI / 180) * 45;

    const box9 = new THREE.Mesh(new THREE.BoxGeometry(.05, .4, .05), new THREE.MeshBasicMaterial({ color: 0x795e4f, wireframe: false }));
    group.add(box9);
    box9.position.x = .3;
    box9.position.y = 1.5;
    box9.position.z = .2;
    box9.rotation.x = (Math.PI / 180) * 45;

    group.position.y = -.5;


    const guiPosition = gui.addFolder('Position');
    guiPosition.add(group.position, 'x', -3, 3, 0.1).name("positionX");
    guiPosition.add(group.position, 'y', -3, 3, 0.1).name("positionY");
    guiPosition.add(group.position, 'z', -3, 3, 0.1).name("positionZ");

    const guiMaterial = gui.addFolder('Material');
    guiMaterial.add(box2.material, 'wireframe');
    guiMaterial.addColor(box.material, 'color');

    // レンダラー
    const renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);
    renderer.render(scene, camera);

    // マウスコントロール
    const controls = new OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.enebleZoom = true;
    controls.eneblePan = true;

    // 更新
    const update = () => {
      stats.begin();
      renderer.render(scene, camera);
      stats.end();

      window.requestAnimationFrame(update);
    };

    update();

  </script>
</body>

</html>